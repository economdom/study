# Просмотр истории коммитов

Для просмотра истории коммитов используется команда `git log`. У каждого из коммитов в списке коммитов есть базовые части, рассмотрим каждый из них

```bash
git log
commit 26a87f42531b270afba81a9e6c01aac894a0f9e7
Author: Vladimir Kamuz <v.kamuz@gmail.com>
Date:   Sun May 29 08:34:59 2016 +0300

    Init repo
```

* `26a87f42531b270afba81a9e6c01aac894a0f9e7` - ID коммита
* `Author: Vladimir Kamuz <v.kamuz@gmail.com>` - автор коммита, данные берутся из файла конфиграции
* `Date:   Sun May 29 08:34:59 2016 +0300` - дата коммита
* `Init repo` - сообщение коммита


Список коммитов с хэшем (короткое число)

```bash
git log --oneline
```

Чтобы получить ограничить количество комитов, нужно использовать флаг `-n`. Следующий вызов вернёт только 2 последних коммита.

```bash
git log -n 2
```

Для указания временного периода, когда были сделанны нужно указать флаг `--since` для указания от какого периода

```bash
git log --since=2016-05-27
```

До какого переода используем флаг `--until`

```bash
git log --until=2016-05-29
```

Можно применять оба флага для указания диапазона

```bash
git log --since=2016-05-29 --until=2016-05-30
```

Список коммитов, сделанных за последние две недели:

```bash
git log --since=2.weeks
```

Для того чтобы вывести коммиты определённого автора можно использовать флаг `--author`. В некоторых случаях достаточно указать только часть полного имени пользователя.

```bash
git log --author="Vladimir"
```

Флаг `--grap` предназначен для поиска регулярных выражений. Для того чтобы его указать, его нужно заключить в двойные кавычки. Попробуем найти коммиты в которых содержится какое-то слово, например `Init`.

```bash
git log --grep="Init"
```

Как видите насколько важно писать правильные сообщения для коммитов, потому что это позволит быстро находить необходимые коммиты используя регулярные выражения.

Вывод дельты (`diff`) разницы между последними двумя изменениями (на уровне строк)

```bash
git log -p -2
```

Вывод изменений между двумя последними коммитами на уровне слов

```bash
git log -p -2 --word-diff
```

Вывод краткой статистики по 2 последним коммитам

```bash
git log -2 --stat
```

И очень полезный ключ `--pretty` (позволяет изменить формат вывода лога)

```bash
git log --pretty=oneline
```

Можно применить определённый формат отображения. Как правило лучше составить необходимый формат и сохранить их в качестве алиаса.

```bash
git log --pretty=format:"%h - %an, %ar : %s"
```

Параметры ключа `format`

Параметр | Описание выводимых данных
---------|--------------------------
`%H`     | Хеш коммита
`%h`     | Сокращённый хеш коммита
`%T`     | Хеш дерева
`%t`     | Сокращённый хеш дерева
`%P`     | Хеши родительских коммитов
`%p`     | Сокращённые хеши родительских коммитов
`%an`    | Имя автора
`%ae`    | Электронная почта автора
`%ad`    | Дата автора (формат соответствует параметру --date=)
`%ar`    | Дата автора, относительная (пр. "2 мес. назад")
`%cn`    | Имя коммитера
`%ce`    | Электронная почта коммитера
`%cd`    | Дата коммитера
`%cr`    | Дата коммитера, относительная
`%s`     | Комментарий

Другой полезный фильтр это опция –S, которая как параметр принимает строку и показывает только те коммиты где эта строка была изменена, добавлена или удалена.

```bash
git log -S <string>
```

Пример будет искать строку `MyStringForSearch`

```bash
git log -S MyStringForSearch
```