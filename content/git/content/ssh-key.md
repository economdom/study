# Генерация SSH ключей

Испльзование SSH ключей позволяет упростить работу с удалёнными Git репозиториями. Используя данный подход вы можете отправлять свои коммиты на GitHub не вводя больше логин и пароль от своего аккаунта на GitHub.

Суть генерации SSH ключей заключается в том что у вас есть кусочек кода - файл которых находится на вашем компьютере. Вы берёте этот код, а точнее дополнительную его часть и отправляете на GitHub сервер и теперь когда вы делаете запрос Git автоматически отправляет этот кусок кода вместе с запросом и использует его чтобы провести аудентификацию и убедится что я тот кто я есть.

В интернете есть множество ресурсов, которые помогут вам получить набор SSH ключей и работать с любым хостом. На этот счёт есть [статья на GitHub](https://help.github.com/articles/generating-an-ssh-key/) а также на [сайте Git](https://git-scm.com/book/be/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key). В первом случае вы видите что есть раздел для Windows и для Mac.

В GitHub по умолчанию выбран протокол HTTP в качестве формата адреса для репозитория и для того чтобы это изменить нужно выбрать SSH.

## Использование Git Bash

Для этих целей можно воспользоватся встроенной программой `ssh-keygen`. Данная команда создаёт две части ключа - публичный и приватный и складывает их в домашнюю директорию пользователя.

* Генерируем ключ, при желании вводим фразовый пароль (минимум 4 символа)
* Открываем файл `.ssh/id_rsa.pub` с помощью команды `cat` и копируем содержимое этого файла в буфер. Если команда не работает просто открываем в любом тектовом редакторе и копируем код

```bash
ssh-keygen
cat ~/.ssh/id_rsa.pub | pbcopy
```

* После запуска мы можем указать место сохранения, по умолчанию это папка *.ssh* внутри домашней директории пользователя.
* Далее нам предлагается создать фразовый пароль и повторить его - это делать не объязательно и можно оставить пустыми эти значения
* Нужно скопировать содержимое публичного ключа *.ssh/id_rsa.pub* и вставить в настроках аккаунта на GitHub
* Приватный ключ будет хранится в той же папке *.ssh/id_rsa* и git bash его будет использовать автоматически при подключению в удалённому репозиторию GitHub

После этих минимальных действий 

## Использование PuTTY Key Generator

Для генерации SSH ключа можно использовать PuTTY Key Generator. Вам нужно сгенерировать две части ключа - одна будет приватной, а другая публичная. Публичную вы отдаёте GitHub, а приватная остаётся у вас. Как только происходит момент синхронизации репозиториев, то эти две части ключа сравниваются и сервер устанавливает, что вы это вы и разрешает вам эти действия. Это очень удобно, потому что вам не нужно каждый раз вводить логин и пароль.

* Для генерации SSH ключа с помощью PuTTYgen нужно поводить мышкой
* После генерации ключа, скопировать его
* Затем следует перейти в настройки учётной записи на GitHub в раздел SSH keys и создать новый публичный ключ, указав при этом произвольное имя и скопированный ранее ключ.
* Для приватного ключа его во-первых нужно сохранить где-то на вашем диске, а во вторых для него нужно указать комментарий, назначить и подтвердить пароль, после чего нужно нажать на кнопку <kbd>Save privat key</kbd> для того чтобы сохранить сгенерированный приватный ключ на жёстком диске.
* Далее мы запускаем программу Pageant Key List, которая отображает список наших ключей
* Кликаем по кнопке <kbd>Add Key</kbd>, находим наш только что сохранённый приватный ключ и после выбора ключа, вам нужно будет указать пароль, который вы указали при генерации ключа.
* Для того чтобы всё это дело работало без пароля, нужно объязательно в настройках удалённого репозитория указать SSH Remote URL
* После первой попытки выгрузить изменения на удалённый репозиторий (`push`), появится всплывающее окошко, где нам нужно согласится чтобы подтветрить данный сервер.

Если вдруг каким-то образом у вас удалилась работая папка с проектом, то её можно востановить с помощью команды `git pull` или `git clone`.