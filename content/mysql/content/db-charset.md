# Создание базы данных с указанной кодировкой

Синтаксис оператора `CREATE DATABASE`

```sql
CREATE DATABASE [IF NOT EXISTS] db_name [CHARACTER SET charset] [COLLATE collation];
```

* `db_name` - имя, которое будет присвоено создаваемой базе данных.
* `IF NOT EXISTS` - если не указать этот параметр, то при попытке создания базы данных с уже существующим именем, возникнет ошибка выполнения команды.
* `CHARACTER SET`, `COLLATE` - используется для задания стандартной кодировки таблицы и порядка сортировки.

Если при создании таблицы эти параметры не указываются, то кодировка и порядок сортировки вновь создаваемой таблицы берутся из значений, указанных для всей базы данных. Если задан параметр `CHARACTER SET`, но не задан параметр `COLLATE`, то используется стандартный порядок сортировки. Если задан параметр `COLLATE`, но не задан `CHARACTER SET`, то кодировку определяет первая часть имени порядка сортировки в `COLLATE`.

```sql
CREATE DATABASE `my_db` CHARACTER SET utf8 COLLATE utf8_general_ci;
```

Для того, чтобы посмотреть настройки уже существующей базы данных необходимо выполнить оператор `SHOW CREATE DATABASE`

```sql
mysql> SHOW CREATE DATABASE `test`;
+----------+-----------------------------------------------------------------+
| Database | Create Database                                                 |
+----------+-----------------------------------------------------------------+
| test     | CREATE DATABASE `test` /*!40100 DEFAULT CHARACTER SET latin1 */ |
+----------+-----------------------------------------------------------------+
1 row in set (0.02 sec)
```

## Конвертация существующей кодировки базы данных MySQL в UTF8

```sql
mysql> show create database example;
+----------+--------------------------------------------------------------------+
| Database | Create Database                                                    |
+----------+--------------------------------------------------------------------+
| example  | CREATE DATABASE `example` /*!40100 DEFAULT CHARACTER SET latin1 */ |
+----------+--------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter database example default character set utf8;
Query OK, 1 row affected (0.01 sec)

mysql> show create database example;
+----------+------------------------------------------------------------------+
| Database | Create Database                                                  |
+----------+------------------------------------------------------------------+
| example  | CREATE DATABASE `example` /*!40100 DEFAULT CHARACTER SET utf8 */ |
+----------+------------------------------------------------------------------+
1 row in set (0.00 sec)
```