# Регулярные выражения

- [ ] [Введение](#intro)
- [ ] [Ограничители шаблона](#template-limiter)
- [ ] [Литералы и метасимволы](#literals-metacharacters)
- [ ] [Символьный класс](#character-class)
- [ ] [Модификаторы или фраги шаблона](#modifier)

<div id="intro"></div>

Регулярные выражения - это поиск неоходимых совпадений строк согласно заданного шаблона.

К примеру у нас есть какой-то текст.

```
Lorem ipsum dolor sit amet, hello word consectetur adipisicing elit. Quidem blanditiis maiores, alias laborum officia molestias excepturi culpa atque tempore repellendus testhello wordtest ipsa nisi delectus voluptas pariatur inventore ipsum veniam temporibus modi?
```

Если мы воспользуемся обычным поиском то будет найдено 2 соответствия

А теперь зададим границы поиска для фразы `hello word`

В строке поиска пишем:

```
\bhello word\b
```

При этом в настройках поиска следует указать что мы хотим использовать регулярное выражение.

Название | Описание                     | Пример 
---      | ---                          | ---    
`b\`     | жёстко задаёт границы поиска |        

<div id="template-limiter"></div>

## Ограничители шаблона

Два слэша - это ограничители шаблона. Сам шаблон должен помещатся в определённые ограничители, тоесть мало его поместить в кавычки, его нужно ещё помещать в ограничители. Чаще всего используют слэши, но можно использовать любые парные символы, кроме альфа нумерик и обратного слэша. Парные символы означают, что если мы в качестве первого ограничителя используем определённый символ, то этот же символ должен идти в качестве последнего, например можно использовать `/`, `~`, `!`, `#` и т. д. Альфа нумерик - это буквенно цифровые символы.

<div id="literals-metacharacters"></div>

## Литералы и метасимволы

Литералы -  это символы, которые представляют сами себя.

Метасимволы - это символы, которые обозначают целый класс каких-то символов, но иногда могут также обозначать сами себя.

Название | Описание                                               | Пример
---      | ---                                                    | ---
`.`      | обозначает любые символы, кроме символа переноса строк | `/.ello/`
`\`      | экранирует следующий за ним метасимвол, таким образом метасимвол становится литералом. Если нам нужно найти обратный слэш, тогда нужно его удвоить. | `/hello\.txt/`

<div id="character-class"></div>

## Символьный класс

Символьный класс - это такая конструкция, которая указывается с помощью открывающей и закрывающей квадратных скобок, при этом открывающая квадратная скобка является метасимволом, тоесть если вам нужно вывести открывающую квадратную скобку, то её нужно предварительно экранировать с помощью обратного слэша. Без открывающей квадратной скобки, закрывающая автоматически становится литералом.

Название | Описание                                                                                                  | Пример
---      | ---                                                                                                       | ---
`[ABC]`  | любой символ из указанных                                                                                 | `[aei]`
`[a-z]`  | символ в указанном диапазоне                                                                              | `[a-g]`
`[0-9]`  | цифра в указанном диапазоне                                                                               | `[0-5]`
`[A-z]`  | захватывает спецсимволы поэтому применяется редко. Это можно проверить в таблице кодировки ASCII          | 

Порядок комбинации наборов символов не имеет значения. В начале диапазона должен идти меньший символ, а в конце диапазона должен идти больший символ по [таблице кодировки ASCII](http://ru.wikipedia.org/wiki/ASCII), иначе будет указан не корректный диапазон.

Внутри символьного класса, между двух символов дефис превращается в метасимвол. Чтобы лишний раз не экранировать `-` достаточно его поставить либо вначале либо в конце символьного класса.

```
[-a-z]
```

Внутри символьного класса метасимволы становятся обычными литералами.

Если нам понадобится со всего списка тегов выбрать только заголовки, то в PHP это могло бы выглядеть примерно так.

```
<?php

$string = '<h1> <h2> <H3>  <em> <h5> <br>';

$template = '#<h[1-6]>#i';

if(preg_match_all($template, $string, $matches)){
    foreach($matches[0] as $match){
        echo '<pre>';
        echo htmlspecialchars($match) ;
        echo '</pre>';
    }
}
else{
    echo "Совпадений не найдено";
}
```

<div id="modifier"></div>

## Модификаторы или фраги шаблона

Не важно в какой последовательности будут идти флаги.

Шаблоны по умолчанию регистозависимые.

Название | Описание                                                              | Пример     
---      | ---                                                                   | ---        
`i`      | делает поиск регистронезависимым, тоесть не чувствительным к регистру | `/hello/i` 
`g`      | ищет все совпадения, а не только первое                               | `/hello/g` 
`s`      | учитывает перенос строки                                              | `/hello/s` 

Модификатора `g` нет в PHP, а вместо этого есть функция `preg_match_all()`. Зато он есть в JavaScript.